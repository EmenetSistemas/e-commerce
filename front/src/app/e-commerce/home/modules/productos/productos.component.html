<div class="col-12 categorias-ipad">
    <div class="card">
        <div class="card-body" style="margin-bottom: -20px !important;">
            <div class="accordion accordion-flush" id="totalBloqueCerrar">
                <div class="accordion-item">
                    <h2 id="flush-headingOne" class="accordion-header">
                        <button #accordionButton type="button" data-bs-toggle="collapse" data-bs-target="#totalBloque"
                            aria-expanded="false" aria-controls="flush-collapseOne" class="accordion-button collapsed">
                            <h5 class="card-title title-categorias-ipad">Categorías</h5>
                        </button>
                    </h2>
                    <div id="totalBloque" aria-labelledby="flush-headingOne" data-bs-parent="#totalBloqueCerrar"
                        class="accordion-collapse collapse">
                        <div class="accordion-body">
                            <div class="accordion accordion-flush" id="accordionExample-ipad">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingOne">
                                        <button class="accordion-button accordion-button-sp collapsed" type="button"
                                            (click)="productosDestacados()">
                                            Productos Destacados
                                        </button>
                                    </h2>
                                </div>
                                <div class="accordion-item" *ngFor="let categoria of categorias">
                                    <h2 class="accordion-header" id="headingOne">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse"
                                            [attr.data-bs-target]="'#collapseOneIpad-' + categoria.id"
                                            aria-expanded="false"
                                            [attr.aria-controls]="'collapseOneIpad-' + categoria.id">
                                            {{categoria.nombre}}
                                        </button>
                                    </h2>
                                    <div [id]="'collapseOneIpad-' + categoria.id" class="accordion-collapse collapse"
                                        aria-labelledby="headingOne" [attr.data-bs-parent]="'#accordionExample-ipad'">
                                        <div class="accordion-body">
                                            <div class="col" style="margin-bottom: 10px;"
                                                *ngFor="let apartado of categoria.apartados">
                                                <div class="form-check form-switch" style="margin-top: 5px;">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="apartado{{categoria.id}}{{apartado.id}}"
                                                        [checked]="apartado.check"
                                                        (change)="obtenerProductosPorApartado($event, categoria.id, apartado.id)">
                                                    <label class="form-check-label"
                                                        for="apartado{{categoria.id}}{{apartado.id}}">
                                                        <b>{{apartado.nombre}}</b>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-lg-3 categorias-pc">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Categorías</h5>
            <div class="accordion accordion-flush" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button accordion-button-sp collapsed" type="button"
                            (click)="productosDestacados()">
                            Productos Destacados
                        </button>
                    </h2>
                </div>
                <div class="accordion-item" *ngFor="let categoria of categorias">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            [attr.data-bs-target]="'#collapseOne-' + categoria.id" aria-expanded="false"
                            [attr.aria-controls]="'collapseOne-' + categoria.id">
                            {{categoria.nombre}}
                        </button>
                    </h2>
                    <div [id]="'collapseOne-' + categoria.id" class="accordion-collapse collapse"
                        aria-labelledby="headingOne" [attr.data-bs-parent]="'#accordionExample'">
                        <div class="accordion-body">
                            <div class="col" style="margin-bottom: 10px;" *ngFor="let apartado of categoria.apartados">
                                <div class="form-check form-switch" style="margin-top: 5px;">
                                    <input class="form-check-input" type="checkbox"
                                        id="apartadopc{{categoria.id}}{{apartado.id}}" [checked]="apartado.check"
                                        (change)="obtenerProductosPorApartado($event, categoria.id, apartado.id)">
                                    <label class="form-check-label" for="apartadopc{{categoria.id}}{{apartado.id}}">
                                        <b>{{apartado.nombre}}</b>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-lg-9 col-12">
    <div class="card">
        <div class="card-body" style="margin-bottom: -20px;">
            <h5 class="card-title col-lg-3 col-md-3 col-5 t-center">
                Productos
            </h5>
            <div class="col-lg-8 col-md-8 col-6">
                <form autocomplete="off" [formGroup]="formBusqueda" class="input-syle">
                    <div class="btn-group w-100" role="group" aria-label="Basic example">
                        <input list="productos" class="form-control border-right-none" id="producto"
                            formControlName="producto" placeholder="Buscar" (keypress)="soloTexto($event)"
                            (input)="mostrarProductos()" maxlength="255">
                        <div class="datalist-container" *ngIf="this.mostrarOpcionesProductos">
                            <datalist id="productos">
                                <option *ngFor="let producto of this.listaProductosTienda" value="{{producto}}">
                            </datalist>
                        </div>
                        <button type="button" class="btn btn-primary" (click)="buscarPorductos()"
                            style="background-color: #131A22; border-color: #131A22;"
                            [disabled]="!this.mostrarOpcionesProductos">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <ng-container *ngIf="this.productosMostrar.length > 0; else destacados">
        <section *ngFor="let producto of this.productosMostrar">
            <app-producto [productoGen]="producto"></app-producto>
        </section>
    </ng-container>
    <ng-template #destacados>
        <app-destacados></app-destacados>
    </ng-template>
</div>